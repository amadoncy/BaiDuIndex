 # 百度指数数据采集工具

这是一个用于采集百度指数数据的Python工具，支持多地区、多关键词的数据采集，并提供数据导出和数据库存储功能。

## 功能特点

- 支持全国、区域、省份、城市级别的数据采集
- 自动登录百度指数平台
- 支持多关键词数据采集
- 数据自动保存到Excel和MySQL数据库
- 支持断点续传，自动补充缺失数据
- 内置完整的城市编码系统
- 内存优化，支持大数据量处理
- 异常处理和自动重试机制

## 系统要求

- Python 3.7+
- MySQL 5.7+
- Chrome浏览器（用于自动登录）

## 安装步骤

1. 克隆项目到本地：
```bash
git clone [项目地址]
cd BaiDuIndex
```

2. 安装依赖包：
```bash
pip install -r requirements.txt
```

3. 配置数据库：
   - 在MySQL中创建数据库
   - 修改 `config/database.py` 中的数据库连接信息

4. 配置用户信息：
   - 在 `resources/user_info.txt` 中配置百度账号信息
   - 格式：第一行为用户名，第二行为密码

## 目录结构

```
BaiDuIndex/
├── config/             # 配置文件目录
│   ├── city_codes.py   # 城市编码配置
│   ├── database.py     # 数据库配置
│   └── user_config.py  # 用户配置
├── data/              # 数据存储目录
│   └── trend/         # 趋势数据存储
├── gui/               # 图形界面相关代码
├── resources/         # 资源文件目录
├── sql/              # SQL相关文件
├── utils/            # 工具函数目录
├── main.py           # 主程序入口
└── requirements.txt  # 项目依赖
```

## 使用方法

1. 运行主程序：
```bash
python main.py
```

2. 通过图形界面：
   - 选择要采集的地区（全国/区域/省份/城市）
   - 输入要采集的关键词
   - 选择时间范围
   - 点击开始采集

3. 数据存储：
   - Excel文件保存在 `data/trend/` 目录下
   - 数据库表名为 `baidu_index_trends`

## 注意事项

1. 首次使用需要手动完成登录验证
2. 建议使用稳定的网络连接
3. 大量数据采集时注意内存使用
4. 请遵守百度指数的使用条款和限制

## 常见问题

1. 登录失败
   - 检查账号密码是否正确
   - 确认网络连接正常
   - 可能需要手动完成验证码

2. 数据获取失败
   - 检查cookies是否有效
   - 确认网络连接正常
   - 查看日志文件了解详细错误信息

3. 数据库连接错误
   - 检查数据库配置是否正确
   - 确认数据库服务是否运行
   - 验证数据库用户权限

## 更新日志

### v1.0.0
- 初始版本发布
- 支持基本的指数数据采集功能
- 提供图形界面操作

## 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目。

## 许可证

本项目采用 MIT 许可证